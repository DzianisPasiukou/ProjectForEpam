@using LogicLayer.Security
@{
    ViewBag.Title = "Tasks";

    Layout = "~/Views/Shared/_AccountPartialAdmin.cshtml";
}

<div id="page-wrapper" ng-controller="taskCtrl" ng-a>
    <div class="container-fluid" style="bottom: 0">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Tasks</h1>
            </div>
        </div>

        <div style="margin-bottom:10px" ng-cloak>
            Records per page : <span ng-bind="pageSize"></span>
            <a style="margin-left:15px" id="prevButton" href="" ng-click="prevClick()">
                Previous
            </a>
            <span ng-bind="currentPage+1"></span>/<span ng-bind="numberOfPages()"></span>
            <a id="nextButton" href="" ng-click="nextClick()">
                Next
            </a>
        </div>

        <table class="table paginated table-bordered">
            <tr>
                <th>
                </th>
                <th>
                    Название
                </th>
                <th>
                    Задача
                </th>
                <th>
                    Включена
                </th>
                <th>
                    Дата недели запуска
                </th>
                <th>
                    Время запуска
                </th>
                <th>
                    Дата изменения
                </th>
                <th>
                    Кем изменено
                </th>
            </tr>
            <tr ng-repeat="task in tasks | startFrom:currentPage*pageSize | limitTo:pageSize">
                <td align="center"><a href="" ng-click=""> Изменить </a>  <a href="" ng-click="delete(user.Login)"> Удалить </a></td>
                <td><span ng-bind="task.Name"></span></td>
                <td><span ng-bind="task.Adapter"></span></td>
                <td><input type="checkbox" ng-model="task.IsEnable" ng-click="checkClick(task.Name,task.IsEnable)"></td>
                <td><span ng-bind="task.DateWeekStart"></span></td>
                <td><span ng-bind="task.TimeStart"></span></td>
                <td><span ng-bind="task.DateChange"></span></td>
                <td><span ng-bind="task.WhoChange"></span></td>
            </tr>
        </table>

        <div class="form-horizontal">
            <div class="form-group">
                <div class="col-md-3 col-lg-3 col-xs-3 col-sm-3 control-label">
                    Название
                </div>
                <input type="text" id="nameTask" class="col-md-9 col-lg-9 col-xs-9 col-sm-9  form-control inline" />
            </div>

            <div class="form-group">
                <div class="col-md-3 col-lg-3 col-xs-3 col-sm-3 control-label">
                    Задача
                </div>
                <div class="dropdown btn-group col-md-9 col-lg-9 col-xs-9 col-sm-9 inline">
                    <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">
                        <span ng-bind="taskAdapter"> No Change </span>
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li ng-repeat="adapter in adapters">
                            <a href="" ng-click="changeAdapter(adapter.Name)">
                                <span ng-bind="adapter.Name"> </span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-3 col-lg-3 col-xs-3 col-sm-3 control-label">
                    Когда
                </div>
                <div class="dropdown btn-group col-md-9 col-lg-9 col-xs-9 col-sm-9 inline">
                    <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">
                        <span ng-bind="time"> No Change </span>
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li ng-repeat="time in times">
                            <a href="" ng-click="changeTime(time)">
                                <span ng-bind="time"> </span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="form-group center-block">
                <div class="checkbox col-md-3 col-lg-3 col-xs-6 col-sm-4">
                    <label>
                        <input type="checkbox" class='weekday'> Понедельник
                    </label>
                </div>
                <div class="checkbox col-md-3 col-lg-3 col-xs-6 col-sm-4">
                    <label>
                        <input type="checkbox" class='weekday'> Вторник
                    </label>
                </div>
                <div class="checkbox col-md-3 col-lg-3 col-xs-6 col-sm-4">
                    <label>
                        <input type="checkbox" class='weekday'> Среда
                    </label>
                </div>
                <div class="checkbox col-md-3 col-lg-3 col-xs-6 col-sm-4">
                    <label>
                        <input type="checkbox" class='weekday'> Четверг
                    </label>
                </div>
                <div class="checkbox col-md-3 col-lg-3 col-xs-6 col-sm-4">
                    <label>
                        <input type="checkbox" class='weekday'> Пятница
                    </label>
                </div>
                <div class="checkbox col-md-3 col-lg-3 col-xs-6 col-sm-4">
                    <label>
                        <input type="checkbox" class='weekday'> Суббота
                    </label>
                </div>
                <div class="checkbox col-md-3 col-lg-3 col-xs-4 col-sm-3">
                    <label>
                        <input type="checkbox" class='weekday'> Воскресенье
                    </label>
                </div>
            </div>
        </div>

        <button class="btn btn-success" ng-click="AddTask()"> Добавить </button>

    </div>
</div>
